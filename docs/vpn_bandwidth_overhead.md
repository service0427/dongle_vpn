# VPN λ€μ—­ν­ μ¤λ²„ν—¤λ“ λ¶„μ„

## π”΄ VPNμ€ ν†µμ‹ λ‰μ„ μ¦κ°€μ‹ν‚µλ‹λ‹¤!

### 1. **VPN μ¤λ²„ν—¤λ“ κµ¬μ„±**

```
μ›λ³Έ λ°μ΄ν„°: 1000 bytes
β†“
+ VPN ν—¤λ”: 20-40 bytes
+ μ•”νΈν™” ν¨λ”©: 16-32 bytes  
+ UDP/TCP ν—¤λ”: 8-20 bytes
+ Keep-alive ν¨ν‚·: μ£ΌκΈ°μ  μ¶”κ°€
= μ΄ μ „μ†΅λ‰: 1044-1092 bytes (4~9% μ¦κ°€)
```

### 2. **μ‹¤μ  μ¤λ²„ν—¤λ“ λΉ„κµ**

| ν”„λ΅ν† μ½ | μ¤λ²„ν—¤λ“ | 1GB μ „μ†΅ μ‹ | μ„¤λ… |
|---------|---------|------------|------|
| **μ§μ ‘ μ—°κ²°** | 0% | 1.00 GB | μ¤λ²„ν—¤λ“ μ—†μ |
| **SOCKS5** | 1-2% | 1.01-1.02 GB | ν—¤λ”λ§ μ¶”κ°€ |
| **WireGuard** | 4-6% | 1.04-1.06 GB | μµμ† μ•”νΈν™” |
| **OpenVPN** | 10-20% | 1.10-1.20 GB | λ¬΄κ±°μ΄ μ•”νΈν™” |
| **IPSec** | 15-25% | 1.15-1.25 GB | μ—”ν„°ν”„λΌμ΄μ¦κΈ‰ |

### 3. **WireGuard μƒμ„Έ λ¶„μ„**

```
ν¨ν‚· κµ¬μ΅°:
[IP Header: 20 bytes]
[UDP Header: 8 bytes]
[WireGuard Header: 16 bytes]
[Encrypted Payload: N bytes]
[Auth Tag: 16 bytes]

μ΄ μ¤λ²„ν—¤λ“: 60 bytes per packet
MTU 1420 κΈ°μ¤€: 4.2% μ¤λ²„ν—¤λ“
```

### 4. **μ‹¤μ  μ‹λ‚λ¦¬μ¤ (20κ° λ™κΈ€)**

```
μ‹λ‚λ¦¬μ¤: κ° λ™κΈ€μ΄ 10Mbps μ‚¬μ©

μ§μ ‘ μ—°κ²°:
- 20 x 10Mbps = 200Mbps

SOCKS5 κ²½μ :
- 20 x 10.2Mbps = 204Mbps (2% μ¦κ°€)

WireGuard VPN:
- 20 x 10.5Mbps = 210Mbps (5% μ¦κ°€)
- + Keep-alive νΈλν”½: μ¶”κ°€ 1-2Mbps
- μ΄: 211-212Mbps

OpenVPN:
- 20 x 12Mbps = 240Mbps (20% μ¦κ°€!)
```

### 5. **μ¨κ²¨μ§„ μ¤λ²„ν—¤λ“**

#### A. Keep-alive ν¨ν‚·
```bash
# WireGuard PersistentKeepalive=25
λ§¤ 25μ΄λ§λ‹¤ κ° ν”Όμ–΄λ‹Ή 32 bytes μ „μ†΅
20κ° ν΄λΌμ΄μ–ΈνΈ = 20 x 32 x (60/25) = 1536 bytes/min
```

#### B. μ¬μ „μ†΅ μ¤λ²„ν—¤λ“
```
VPN ν„°λ„ λ‚΄ ν¨ν‚· μ†μ‹¤ μ‹:
- μ›λ³Έ μ¬μ „μ†΅
- VPN λ μ΄μ–΄ μ¬μ „μ†΅
= μ΄μ¤‘ μ¬μ „μ†΅ λ°μƒ
```

#### C. MTU λ¬Έμ 
```
μΌλ° μ΄λ”λ„· MTU: 1500
VPN ν›„ MTU: 1420 (WireGuard)

β†’ ν¨ν‚· λ¶„ν•  μ¦κ°€
β†’ λ” λ§μ€ ν—¤λ” ν•„μ”
β†’ μ¶”κ°€ 5-10% μ¤λ²„ν—¤λ“
```

## π“ μ‹¤μΈ΅ ν…μ¤νΈ λ…λ Ήμ–΄

```bash
# 1. μ§μ ‘ μ—°κ²° ν…μ¤νΈ
iperf3 -c 8.8.8.8 -t 30

# 2. SOCKS5 κ²½μ 
tsocks iperf3 -c 8.8.8.8 -t 30

# 3. VPN κ²½μ 
wg-quick up wg0
iperf3 -c 8.8.8.8 -t 30

# μ¤λ²„ν—¤λ“ κ³„μ‚°
echo "scale=2; (vpn_bytes - direct_bytes) / direct_bytes * 100" | bc
```

## π― μµμ ν™” λ°©λ²•

### 1. **MTU μµμ ν™”**
```bash
# MTU μλ™ νƒμ§€
ping -M do -s 1472 8.8.8.8

# WireGuard MTU μ„¤μ •
wg set wg0 mtu 1420
```

### 2. **μ••μ¶• ν™μ© (OpenVPNλ§)**
```
# OpenVPN μ„¤μ •
comp-lzo adaptive
push "comp-lzo adaptive"
```

### 3. **λ¶ν•„μ”ν• μ•”νΈν™” μ κ±°**
```
# λ‚΄λ¶€λ§ μ „μ©
cipher none
auth none
```

## π’΅ κ²°λ΅ 

### VPN vs SOCKS5 λ€μ—­ν­ μ‚¬μ©λ‰:

| κµ¬λ¶„ | 1GB λ°μ΄ν„° μ „μ†΅ μ‹ μ‹¤μ  μ‚¬μ©λ‰ |
|------|------------------------------|
| **μ§μ ‘ μ—°κ²°** | 1.00 GB |
| **SOCKS5** | 1.01-1.02 GB (β… μµμ†) |
| **WireGuard** | 1.05-1.10 GB |
| **OpenVPN** | 1.15-1.25 GB |

### 20κ° λ™κΈ€ μ‹λ‚λ¦¬μ¤:
- **100Mbps μ΄λ”λ„·**: λ‘ λ‹¤ λ³‘λ©
- **1Gbps μ΄λ”λ„·**: 
  - SOCKS5: κ±°μ ν’€ μ„±λ¥
  - VPN: 5-20% μ„±λ¥ μ €ν•

### π“ κ¶μ¥μ‚¬ν•­:

1. **μ†λ„κ°€ μ¤‘μ”ν•λ©΄**: SOCKS5
2. **λ³΄μ•μ΄ μ¤‘μ”ν•λ©΄**: WireGuard (OpenVPN ν”Όν•κΈ°)
3. **λ€μ—­ν­ μ ν• μμΌλ©΄**: SOCKS5 ν•„μ

**λ‹µλ³€: VPNμ€ λ™μΌ λ°μ΄ν„° μ „μ†΅ μ‹ 5-20% λ” λ§μ€ λ€μ—­ν­μ„ μ‚¬μ©ν•©λ‹λ‹¤!**